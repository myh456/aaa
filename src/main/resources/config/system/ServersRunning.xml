<root>
    <cpu type="linux">
        <cmd>
            top -bn1 | grep "%Cpu(s)" | awk -F'[,% ]+' '{printf "{\"us\": %s, \"sy\": %s, \"id\": %s, \"wa\": %s}", $3, $5, $9, $11}'
        </cmd>
        <res from="us" name="us"/>
        <res from="sy" name="sy"/>
        <res from="id" name="id"/>
        <res from="wa" name="wa"/>
    </cpu>
    <cpu type="aix">
        <cmd>
            topas -i 1 | head -10 | awk '/CPU%/,0 {if(NR==3) printf "{\"us\": %s, \"sy\": %s, \"id\": %s, \"wa\": %s}", $2, $4, $6, $8}'
        </cmd>
        <res from="us" name="us"/>
        <res from="sy" name="sy"/>
        <res from="id" name="id"/>
        <res from="wa" name="wa"/>
    </cpu>
    <memory>
        <cmd>
            free | awk 'NR==2{printf "{\"mem_total\":\"%s\",\"mem_used\":\"%s\",\"mem_free\":\"%s\",",$2,$3,$4}NR==3{printf "\"free_total\":\"%s\",\"free_used\":\"%s\",\"free_free\":\"%s\"}\n",$2,$3,$4}'
        </cmd>
    </memory>
    <storage>
        <cmd>
            for d in {{path}}; do df "$d" | awk -v d="$d" 'NR==2{gsub(/%/,"",$5);printf "\"filesystem_%s\":\"%s\",\"size_%s\":\"%s\",\"used_%s\":\"%s\",\"avail_%s\":\"%s\",\"use_%s\":\"%s\",\"mounted_%s\":\"%s\",\"dir_%s\":\"%s\",",d,$1,d,$2,d,$3,d,$4,d,$5,d,$6,d,d}'; done | sed 's/,$//' | awk 'BEGIN{printf "{"} {printf $0} END{print "}"}'
        </cmd>
        <res from="use_/" name="use_root"/>
        <res from="use_/home" name="use_home"/>
    </storage>
    <service name="已经和他个人">
        <sql id="1">select Host, Db, User from mysql.db</sql>
        <res from="Host" name="Host"/>
    </service>
    <service name="爱好体育合同文本">
        <sql id="1">select Host, Db, User from mysql.db</sql>
        <res from="Host" name="Host"/>
    </service>
    <service name="没有天赋v的">
        <sql id="1">select Host, Db, User from mysql.db</sql>
    </service>
</root>